'use strict';Vue.component("message",{template:"#message_template",data(){return{}},computed:{textEscaped(){let a=this.template?this.template:this.templates[this.templateId];this.template&&(this.templateId=-1);this.templateId==CONFIG.defaultTemplateId&&1==this.args.length&&(a=this.templates[CONFIG.defaultAltTemplateId]);a=a.replace(/{(\d+)}/g,(b,c)=>{b=void 0!=this.args[c]?this.escape(this.args[c]):b;return 0==c&&this.color?this.colorizeOld(b):b});a=this.colorize(a);return this.makeBox(a)}},methods:{makeBox(a){return this.color?
`<div class="messagebox" style="color: rgba(${this.color[0]}, ${this.color[1]}, ${this.color[2]},1)">${a}</div>`:`<div class="messagebox SystemMSG">${a}</div>`},colorizeOld(a){return a},colorize(a){a="<span>"+a.replace(/\^([0-9])/g,(e,d)=>"</span><span>")+"</span>";const b={"*":"font-weight: bold;",_:"text-decoration: underline;","~":"text-decoration: line-through;","=":"text-decoration: underline line-through;",r:"text-decoration: none;font-weight: normal;"},c=/\^(_|\*|=|~|\/|r)(.*?)(?=$|\^r|<\/em>)/;
for(;a.match(c);)a=a.replace(c,(e,d,f)=>`<em style="${b[d]}">${f}</em>`);return a.replace(/<span[^>]*><\/span[^>]*>/g,"")},escape(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},props:{templates:{type:Object},args:{type:Array},template:{type:String,default:null},templateId:{type:String,default:CONFIG.defaultTemplateId},multiline:{type:Boolean,default:!1},color:{type:Array,default:!1},bgcolor:{type:Array,default:!1}}});